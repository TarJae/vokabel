### core logic for controlling the quiz ###